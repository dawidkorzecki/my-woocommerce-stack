jQuery(document).ready(function(){jQuery(".button-save-pickup-points").click(function(b){b.preventDefault();jQuery("#flexible_pickup_message").hide();jQuery(".button-save-pickup-points").attr("disabled","disabled");jQuery(".flexible-pickup-spinner").css({visibility:"visible"});var c=[];jQuery(".pickup-point").each(function(){console.log(jQuery(this));c[jQuery(this).attr("data-key")]=jQuery(this).val()});var a={action:"flexible_pickup",security:jQuery("#flexible_pickup_ajax_nonce").val(),order_id:jQuery("#flexible_pickup_order_id").val(),data:c};jQuery.ajax({url:flexible_pickup.ajax_url,data:a,method:"POST",dataType:"JSON",success:function(d){console.log(d);jQuery("#flexible_pickup_message").html(d.message);jQuery("#flexible_pickup_message").show();setTimeout(function(){jQuery("#flexible_pickup_message").hide()},5000)},error:function(f,d,e){alert(f.status+": "+e)},complete:function(){jQuery(".button-save-pickup-points").removeAttr("disabled","disabled");jQuery(".flexible-pickup-spinner").css({visibility:"hidden"})}})})});jQuery(document).on("change",".flexible_shipping_shipment .pickup-point",function(){var b=jQuery(this).attr("data-key");console.log(b);jQuery("#flexible_pickup_point_"+b+"_details").hide();var a={action:"flexible_pickup_order_point",security:jQuery("#flexible_pickup_ajax_nonce_"+b).val(),shipping_id:b,pickup_point:jQuery(this).val()};jQuery.ajax({url:flexible_pickup.ajax_url,data:a,method:"POST",dataType:"JSON",success:function(c){console.log(c);jQuery("#flexible_pickup_point_"+c.id+"_details").replaceWith(c.content)},error:function(e,c,d){alert(e.status+": "+d)},complete:function(){}})});jQuery(document).on("click",".flexible-pickup-button-save",function(a){var c=jQuery(this).attr("data-id");if(typeof c!="undefined"){a.stopImmediatePropagation();a.preventDefault();var c=fs_id(this);var b="save";fs_ajax(this,c,b)}});jQuery(document).on("click",".flexible-pickup-button-create",function(a){var c=jQuery(this).attr("data-id");if(typeof c!="undefined"){a.stopImmediatePropagation();a.preventDefault();var c=fs_id(this);var b="send";fs_ajax(this,c,b)}});jQuery(document).on("click",".flexible-pickup-button-delete-created",function(a){var c=jQuery(this).attr("data-id");if(typeof c!="undefined"){a.stopImmediatePropagation();a.preventDefault();var c=fs_id(this);var b="cancel";fs_ajax(this,c,b)}});function flexible_pickup_init(){jQuery(".flexible-pickup-disabled").each(function(){jQuery(this).prop("disabled",true)})}flexible_pickup_init();